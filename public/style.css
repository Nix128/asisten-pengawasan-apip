:root {
  --bg-dark-primary: #121212;
  --bg-dark-secondary: #1E1E1E;
  --border-color: #2E2E2E;
  --text-primary: #EAEAEA;
  --text-secondary: #888888;
  --accent-color: #3B82F6;
  --accent-hover: #2563EB;
  --user-msg-bg: #3B82F6;
  --model-msg-bg: #2A2A2A;
  --danger-color: #EF4444;
}

* { box-sizing: border-box; }

body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  background-color: var(--bg-dark-primary);
  color: var(--text-primary);
  overflow: hidden;
}

.app-container {
  position: relative;
  display: flex;
  height: 100vh;
}

/* --- Sidebar (Mobile First) --- */
.sidebar {
  position: absolute;
  top: 0;
  left: 0;
  width: 280px;
  height: 100%;
  background-color: var(--bg-dark-secondary);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  padding: 1rem;
  z-index: 100;
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out;
}
.sidebar.active { transform: translateX(0); }

.sidebar-header { margin-bottom: 1rem; }
.new-chat-btn { width: 100%; padding: 0.75rem; background-color: var(--accent-color); border: none; color: white; border-radius: 8px; font-size: 0.9rem; cursor: pointer; transition: background-color 0.2s; }
.new-chat-btn:hover { background-color: var(--accent-hover); }

.sidebar-nav section { margin-bottom: 1.5rem; }
.sidebar-nav h3 { margin: 0 0 0.75rem; font-size: 0.8rem; text-transform: uppercase; color: var(--text-secondary); }
.nav-list { max-height: 200px; overflow-y: auto; }
.nav-list-item { display: block; padding: 0.6rem 0.75rem; border-radius: 8px; cursor: pointer; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; transition: background-color 0.2s; }
.nav-list-item:hover { background-color: #252525; }
.nav-list-item.active { background-color: var(--accent-color); color: white; }
.upload-kb-btn { display: block; width: 100%; margin-top: 1rem; text-align: center; padding: 0.6rem; border: 1px dashed var(--text-secondary); color: var(--text-secondary); border-radius: 8px; cursor: pointer; font-size: 0.9rem; }

/* --- Chat Area --- */
.chat-area { flex-grow: 1; display: flex; flex-direction: column; background-color: var(--bg-dark-primary); }
.chat-header { display: flex; align-items: center; padding: 0.5rem 1rem; border-bottom: 1px solid var(--border-color); background-color: var(--bg-dark-secondary); }
.icon-btn { background: none; border: none; color: var(--text-secondary); font-size: 1.2rem; padding: 0.5rem; cursor: pointer; transition: color 0.2s; }
.icon-btn:hover { color: var(--text-primary); }
#menu-toggle-btn { display: block; } /* Tampilkan di mobile */
.chat-header h2 { margin: 0; font-size: 1rem; padding-left: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* ... (chat-window, message, loading-indicator, chat-input-area, send-btn sama seperti sebelumnya) ... */
.chat-input-area { gap: 0.5rem; padding: 0.75rem 1rem; }
#chat-input { flex-grow: 1; background-color: #252525; border: 1px solid var(--border-color); border-radius: 12px; padding: 0.75rem 1rem; color: var(--text-primary); font-family: 'Poppins', sans-serif; font-size: 1rem; resize: none; max-height: 150px; overflow-y: auto; }

/* --- Tampilan Desktop (Responsif) --- */
@media (min-width: 768px) {
  .sidebar { position: relative; transform: translateX(0); }
  #menu-toggle-btn { display: none; }
  .chat-header { justify-content: center; }
}