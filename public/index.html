<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Asisten Pengawasan APIP</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="assets/dark-theme.css" id="theme-style">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="#4a76d0" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                </svg>
                <h1>AI Asisten APIP</h1>
            </div>
            <form id="loginForm">
                <div class="input-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" required>
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn-login">Masuk</button>
            </form>
        </div>
    </div>

    <!-- Main App (hidden until login) -->
    <div id="mainApp" class="app-container hidden">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="#4a76d0" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                </svg>
                <span>APIP AI</span>
            </div>
            
            <nav class="menu">
                <a href="#" class="menu-item active" data-page="chat">
                    <svg class="icon">
                        <use href="assets/icons/chat.svg#icon"></use>
                    </svg>
                    <span>Chat</span>
                </a>
                <a href="#" class="menu-item" data-page="history">
                    <svg class="icon">
                        <use href="assets/icons/history.svg#icon"></use>
                    </svg>
                    <span>Riwayat</span>
                </a>
                <a href="#" class="menu-item" data-page="knowledge">
                    <svg class="icon">
                        <use href="assets/icons/knowledge.svg#icon"></use>
                    </svg>
                    <span>Knowledge Base</span>
                </a>
            </nav>
            
            <button id="logoutButton" class="btn-logout">
                <svg class="icon">
                    <use href="assets/icons/logout.svg#icon"></use>
                </svg>
                <span>Logout</span>
            </button>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Chat Page -->
            <div id="chatPage" class="page active">
                <div class="chat-header">
                    <h1>AI Asisten Pengawasan APIP</h1>
                    <p>Analisis ketidakpatuhan dan rekomendasi perbaikan</p>
                </div>
                
                <div class="chat-window" id="chatWindow">
                    <!-- Messages will appear here -->
                </div>
                
                <div class="chat-input-container">
                    <label for="fileInput" class="btn-upload">
                        <svg class="icon">
                            <use href="assets/icons/upload.svg#icon"></use>
                        </svg>
                        <input type="file" id="fileInput" multiple style="display:none">
                    </label>
                    
                    <input type="text" id="chatInput" placeholder="Ketik pertanyaan pengawasan...">
                    
                    <button id="sendButton" class="btn-send">
                        <svg class="icon">
                            <use href="assets/icons/send.svg#icon"></use>
                        </svg>
                    </button>
                </div>
                
                <div id="filePreview" class="file-preview-container"></div>
            </div>

            <!-- History Page -->
            <div id="historyPage" class="page">
                <div class="page-header">
                    <h1>Riwayat Percakapan</h1>
                    <button id="refreshHistory" class="btn-refresh">
                        <svg class="icon">
                            <use href="assets/icons/refresh.svg#icon"></use>
                        </svg>
                        Refresh
                    </button>
                </div>
                
                <div class="history-container">
                    <table id="historyTable">
                        <thead>
                            <tr>
                                <th>Tanggal</th>
                                <th>Pertanyaan</th>
                                <th>Jawaban</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- History will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Knowledge Base Page -->
            <div id="knowledgePage" class="page">
                <div class="page-header">
                    <h1>Manajemen Knowledge Base</h1>
                    <button id="addDocumentButton" class="btn-primary">
                        <svg class="icon">
                            <use href="assets/icons/add.svg#icon"></use>
                        </svg>
                        Tambah Dokumen
                    </button>
                </div>
                
                <div class="knowledge-container">
                    <div class="upload-section" id="uploadSection">
                        <h3>Tambah Dokumen Baru</h3>
                        <div class="input-group">
                            <label for="documentName">Nama Dokumen</label>
                            <input type="text" id="documentName" placeholder="Laporan Audit Q3 2023">
                        </div>
                        <div class="input-group">
                            <label for="documentFile">Unggah File (PDF/DOCX/TXT)</label>
                            <input type="file" id="documentFile" accept=".pdf,.docx,.txt" multiple>
                        </div>
                        <div class="input-group">
                            <label for="documentContent">Atau Tempel Konten Teks</label>
                            <textarea id="documentContent" rows="5" placeholder="Tempel teks dokumen di sini..."></textarea>
                        </div>
                        <button id="uploadDocumentButton" class="btn-upload">Unggah Dokumen</button>
                        <div id="uploadStatus"></div>
                    </div>
                    
                    <div class="documents-list" id="documentsList">
                        <h3>Dokumen Tersimpan</h3>
                        <div class="document-grid">
                            <!-- Documents will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modalTitle">Edit Item</h2>
            <textarea id="editContent" rows="6"></textarea>
            <button id="saveEdit" class="btn-primary">Simpan Perubahan</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>